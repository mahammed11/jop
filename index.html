<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مكتب محمد عمران - ابحث عن وظيفتك الآن</title>
    <title>مكتب محمد عمران - ابحث عن وظيفتك الآن</title>
    <p>Test Workflow</p>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap');
        
        * {
            font-family: 'Cairo', sans-serif;
        }
        
        .hero-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            position: relative;
            overflow: hidden;
        }
        
        .hero-bg::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><polygon fill="%23ffffff08" points="0,1000 1000,0 1000,1000"/></svg>');
            background-size: cover;
        }
        
        .page {
            display: none;
            min-height: 100vh;
            animation: fadeIn 0.5s ease-in-out;
        }
        
        .page.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .job-card {
            transition: all 0.3s ease;
            border: 1px solid #e5e7eb;
        }
        
        .job-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        
        .search-box {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.95);
        }
        
        .navbar-shadow {
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }
        
        .company-logo {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 18px;
        }
        
        .nav-link {
            position: relative;
            transition: all 0.3s ease;
        }
        
        .nav-link.active {
            color: #667eea;
            font-weight: 600;
        }
        
        .nav-link.active::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 2px;
        }
        
        .sidebar {
            transform: translateX(100%);
            transition: transform 0.3s ease;
        }
        
        .sidebar.active {
            transform: translateX(0);
        }
        
        .stats-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 20px;
            padding: 2rem;
            color: white;
            text-align: center;
            transition: transform 0.3s ease;
        }
        
        .stats-card:hover {
            transform: translateY(-10px);
        }
        
        .account-type-card {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .account-type-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(59, 130, 246, 0.1), transparent);
            transition: left 0.6s ease;
        }
        
        .account-type-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }
        
        .account-type-card:hover::before {
            left: 100%;
        }
        
        .account-type-card input:checked + div {
            color: #1d4ed8;
        }
        
        .account-type-card:has(input:checked) {
            border-color: #3b82f6;
            background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 10px 30px rgba(59, 130, 246, 0.3);
        }
        
        .account-type-card:has(input:checked)::before {
            background: linear-gradient(90deg, transparent, rgba(59, 130, 246, 0.2), transparent);
        }
        
        .form-field {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .form-field.animate {
            opacity: 1;
            transform: translateY(0);
        }
        
        #companyFields {
            max-height: 0;
            overflow: hidden;
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        #companyFields.show {
            max-height: 300px;
            padding-top: 1rem;
        }
        
        .job-form-field {
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease;
        }
        
        .register-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .register-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.6s ease;
        }
        
        .register-button:hover::before {
            left: 100%;
        }
        
        .register-button:hover {
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header / Navbar -->
    <nav class="bg-white navbar-shadow sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo --><!-- Test commit: added new city options -->

                <div class="flex items-center">
                    <div class="bg-gradient-to-r from-blue-600 to-purple-600 text-white px-4 py-2 rounded-lg font-bold text-xl cursor-pointer" onclick="showPage('home')">
                        <i class="fas fa-briefcase ml-2"></i>
                        ابوعنادددددددددددددددددددددد عمران
                        <p>Test Workflow</p>
                    </div>
                </div>
                
                <!-- Navigation Links -->
                <div class="hidden md:flex items-center space-x-8 space-x-reverse">
                    <a href="#" onclick="showPage('home')" class="nav-link text-gray-700 hover:text-blue-600 font-medium transition-colors active">الرئيسية</a>
                    <a href="#" onclick="showPage('jobs')" class="nav-link text-gray-700 hover:text-blue-600 font-medium transition-colors">الوظائف</a>
                    <a href="#" onclick="showPage('companies')" class="nav-link text-gray-700 hover:text-blue-600 font-medium transition-colors">الشركات</a>
                    <a href="#" onclick="showPage('about')" class="nav-link text-gray-700 hover:text-blue-600 font-medium transition-colors">عن المكتب</a>
                    <a href="#" onclick="showPage('contact')" class="nav-link text-gray-700 hover:text-blue-600 font-medium transition-colors">تواصل معنا</a>
                    <a href="#" onclick="showPage('employer-dashboard')" id="employerDashboardLink" class="nav-link text-purple-600 hover:text-purple-700 font-medium transition-colors hidden">
                        <i class="fas fa-tachometer-alt ml-1"></i>
                        لوحة التحكم
                    </a>
                </div>
                
                <!-- Login Button / User Menu -->
                <div class="flex items-center">
                    <button id="loginButton" onclick="showLoginModal()" class="btn-primary text-white px-6 py-2 rounded-lg font-medium">
                        <i class="fas fa-user ml-2"></i>
                        تسجيل دخول
                    </button>
                    
                    <div id="userMenu" class="hidden relative">
                        <button onclick="toggleUserMenu()" class="flex items-center text-gray-700 hover:text-blue-600 font-medium">
                            <i class="fas fa-user-circle text-2xl ml-2"></i>
                            <span id="userName">المستخدم</span>
                            <i class="fas fa-chevron-down mr-2"></i>
                        </button>
                        <div id="userDropdown" class="hidden absolute left-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50">
                            <div class="py-2">
                                <a href="#" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">
                                    <i class="fas fa-user ml-2"></i>
                                    الملف الشخصي
                                </a>
                                <a href="#" onclick="showPage('employer-dashboard')" id="dashboardMenuItem" class="hidden block px-4 py-2 text-gray-700 hover:bg-gray-100">
                                    <i class="fas fa-tachometer-alt ml-2"></i>
                                    لوحة التحكم
                                </a>
                                <a href="#" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">
                                    <i class="fas fa-bookmark ml-2"></i>
                                    الوظائف المحفوظة
                                </a>
                                <div class="border-t border-gray-200"></div>
                                <a href="#" onclick="logout()" class="block px-4 py-2 text-red-600 hover:bg-red-50">
                                    <i class="fas fa-sign-out-alt ml-2"></i>
                                    تسجيل خروج
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Mobile menu button -->
                <div class="md:hidden">
                    <button onclick="toggleMobileMenu()" class="text-gray-700 hover:text-blue-600">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Mobile menu -->
        <div id="mobileMenu" class="hidden md:hidden bg-white border-t">
            <div class="px-4 py-2 space-y-2">
                <a href="#" onclick="showPage('home')" class="block text-gray-700 hover:text-blue-600 py-2">الرئيسية</a>
                <a href="#" onclick="showPage('jobs')" class="block text-gray-700 hover:text-blue-600 py-2">الوظائف</a>
                <a href="#" onclick="showPage('companies')" class="block text-gray-700 hover:text-blue-600 py-2">الشركات</a>
                <a href="#" onclick="showPage('about')" class="block text-gray-700 hover:text-blue-600 py-2">عن المكتب</a>
                <a href="#" onclick="showPage('contact')" class="block text-gray-700 hover:text-blue-600 py-2">تواصل معنا</a>
                <a href="#" onclick="showPage('employer-dashboard')" id="mobileEmployerDashboard" class="hidden block text-purple-600 hover:text-purple-700 py-2">
                    <i class="fas fa-tachometer-alt ml-2"></i>
                    لوحة التحكم
                </a>
            </div>
        </div>
    </nav>

    <!-- الصفحة الرئيسية -->
    <div id="homePage" class="page active">
        <!-- Hero Section -->
        <section class="hero-bg text-white py-20 relative">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10">
                <h1 class="text-5xl md:text-6xl font-bold mb-6">مكاتب التوضيف</h1>
                <p class="text-xl md:text-2xl mb-12 opacity-90">نوفر لك أحدث الفرص الوظيفية بسهولة وسرعة</p>
                
                <!-- Search Box -->
                <div class="search-box max-w-4xl mx-auto p-6 rounded-2xl">
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                        <div class="md:col-span-1">
                            <input type="text" id="searchKeyword" placeholder="كلمة مفتاحية (مبرمج، محاسب...)" 
                                   class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-700">
                        </div>
                        <div>
                            <select id="searchCity" class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-700">
                                <option>اختر المدينة</option>
                                <option>الرياض</option>
                                <option>جدة</option>
                                <option>الدمام</option>
                                <option>مكة المكرمة</option>
                                <option>المدينة المنورة</option>
                            </select>
                        </div>
                        <div>
                            <select id="searchCategory" class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-700">
                                <option>اختر التصنيف</option>
                                <option>تقنية المعلومات</option>
                                <option>المحاسبة والمالية</option>
                                <option>التسويق والمبيعات</option>
                                <option>الموارد البشرية</option>
                                <option>الهندسة</option>
                            </select>
                        </div>
                        <div>
                            <button onclick="searchJobsFromHome()" class="w-full btn-primary text-white px-6 py-3 rounded-lg font-medium">
                                <i class="fas fa-search ml-2"></i>
                                بحث
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Statistics Section -->
        <section class="py-16 bg-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-12">
                    <h2 class="text-4xl font-bold text-gray-900 mb-4">إحصائيات مكتب التوظيف</h2>
                    <p class="text-xl text-gray-600">أرقام تعكس نجاحنا في خدمة المجتمع</p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                    <div class="stats-card">
                        <div class="text-4xl mb-4">
                            <i class="fas fa-briefcase"></i>
                        </div>
                        <div class="text-3xl font-bold mb-2">500+</div>
                        <div class="text-lg opacity-90">وظيفة متاحة</div>
                    </div>
                    <div class="stats-card">
                        <div class="text-4xl mb-4">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="text-3xl font-bold mb-2">2000+</div>
                        <div class="text-lg opacity-90">باحث عن عمل</div>
                    </div>
                    <div class="stats-card">
                        <div class="text-4xl mb-4">
                            <i class="fas fa-building"></i>
                        </div>
                        <div class="text-3xl font-bold mb-2">200+</div>
                        <div class="text-lg opacity-90">شركة شريكة</div>
                    </div>
                    <div class="stats-card">
                        <div class="text-4xl mb-4">
                            <i class="fas fa-handshake"></i>
                        </div>
                        <div class="text-3xl font-bold mb-2">1500+</div>
                        <div class="text-lg opacity-90">توظيف ناجح</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Featured Jobs Preview -->
        <section class="py-16 bg-gray-50">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-12">
                    <h2 class="text-4xl font-bold text-gray-900 mb-4">الوظائف المميزة</h2>
                    <p class="text-xl text-gray-600">اكتشف أفضل الفرص الوظيفية المتاحة</p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8">
                    <div class="job-card bg-white rounded-xl p-6">
                        <div class="flex items-start justify-between mb-4">
                            <div class="company-logo">ت</div>
                            <span class="bg-green-100 text-green-800 text-sm px-3 py-1 rounded-full">دوام كامل</span>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 mb-2">مطور تطبيقات الجوال</h3>
                        <p class="text-gray-600 mb-2">شركة التقنية المتقدمة</p>
                        <div class="flex items-center text-gray-500 mb-4">
                            <i class="fas fa-map-marker-alt ml-2"></i>
                            <span>الرياض</span>
                        </div>
                        <button onclick="viewJobDetails('مطور تطبيقات الجوال')" class="w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors">
                            عرض التفاصيل
                        </button>
                    </div>
                    
                    <div class="job-card bg-white rounded-xl p-6">
                        <div class="flex items-start justify-between mb-4">
                            <div class="company-logo">م</div>
                            <span class="bg-blue-100 text-blue-800 text-sm px-3 py-1 rounded-full">دوام جزئي</span>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 mb-2">محاسب مالي</h3>
                        <p class="text-gray-600 mb-2">مجموعة الأعمال الدولية</p>
                        <div class="flex items-center text-gray-500 mb-4">
                            <i class="fas fa-map-marker-alt ml-2"></i>
                            <span>جدة</span>
                        </div>
                        <button onclick="viewJobDetails('محاسب مالي')" class="w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors">
                            عرض التفاصيل
                        </button>
                    </div>
                    
                    <div class="job-card bg-white rounded-xl p-6">
                        <div class="flex items-start justify-between mb-4">
                            <div class="company-logo">س</div>
                            <span class="bg-green-100 text-green-800 text-sm px-3 py-1 rounded-full">دوام كامل</span>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 mb-2">مختص تسويق رقمي</h3>
                        <p class="text-gray-600 mb-2">شركة الإبداع للتسويق</p>
                        <div class="flex items-center text-gray-500 mb-4">
                            <i class="fas fa-map-marker-alt ml-2"></i>
                            <span>الدمام</span>
                        </div>
                        <button onclick="viewJobDetails('مختص تسويق رقمي')" class="w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors">
                            عرض التفاصيل
                        </button>
                    </div>
                </div>
                
                <div class="text-center">
                    <button onclick="showPage('jobs')" class="btn-primary text-white px-8 py-3 rounded-lg font-medium">
                        عرض جميع الوظائف
                        <i class="fas fa-arrow-left mr-2"></i>
                    </button>
                </div>
            </div>
        </section>
    </div>

    <!-- صفحة الوظائف -->
    <div id="jobsPage" class="page">
        <div class="bg-gradient-to-r from-blue-600 to-purple-600 text-white py-12">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h1 class="text-4xl font-bold mb-4">جميع الوظائف المتاحة</h1>
                <p class="text-xl opacity-90">اكتشف الفرصة المثالية لك من بين مئات الوظائف</p>
            </div>
        </div>
        
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <!-- Search and Filter Section -->
            <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
                <div class="grid grid-cols-1 md:grid-cols-5 gap-4">
                    <div>
                        <input type="text" id="jobSearchKeyword" placeholder="ابحث عن وظيفة..." 
                               class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    </div>
                    <div>
                        <select id="jobSearchCity" class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            <option>جميع المدن</option>
                            <option>اليمن</option>
                            <option>حجة</option>
                            <option>صنعاء</option>

                            <option>المحويت</option>
                           <option>عدن</option>
                        </select>
                    </div>
                    <div>
                        <select id="jobSearchCategory" class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            <option>جميع التصنيفات</option>
                            <option>تقنية المعلومات</option>
                            <option>المحاسبة والمالية</option>
                            <option>التسويق والمبيعات</option>
                            <option>الموارد البشرية</option>
                            <option>الهندسة</option>
                        </select>
                    </div>
                    <div>
                        <select id="jobSearchType" class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            <option>نوع الوظيفة</option>
                            <option>دوام كامل</option>
                            <option>دوام جزئي</option>
                            <option>عمل حر</option>
                            <option>تدريب</option>
                        </select>
                    </div>
                    <div>
                        <button onclick="filterJobs()" class="w-full btn-primary text-white px-6 py-3 rounded-lg font-medium">
                            <i class="fas fa-filter ml-2"></i>
                            تصفية
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Jobs Grid -->
            <div id="jobsGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- سيتم ملء الوظائف هنا بواسطة JavaScript -->
            </div>
            
            <!-- Pagination -->
            <div class="flex justify-center mt-12">
                <div class="flex space-x-2 space-x-reverse">
                    <button class="px-4 py-2 bg-gray-200 text-gray-600 rounded-lg hover:bg-gray-300 transition-colors">السابق</button>
                    <button class="px-4 py-2 bg-blue-600 text-white rounded-lg">1</button>
                    <button class="px-4 py-2 bg-gray-200 text-gray-600 rounded-lg hover:bg-gray-300 transition-colors">2</button>
                    <button class="px-4 py-2 bg-gray-200 text-gray-600 rounded-lg hover:bg-gray-300 transition-colors">3</button>
                    <button class="px-4 py-2 bg-gray-200 text-gray-600 rounded-lg hover:bg-gray-300 transition-colors">التالي</button>
                </div>
            </div>
        </div>
    </div>

    <!-- صفحة الشركات -->
    <div id="companiesPage" class="page">
        <div class="bg-gradient-to-r from-green-600 to-blue-600 text-white py-12">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h1 class="text-4xl font-bold mb-4">الشركات الشريكة</h1>
                <p class="text-xl opacity-90">تعرف على الشركات الرائدة التي نتعامل معها</p>
            </div>
        </div>
        
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow">
                    <div class="company-logo mx-auto mb-4">ت</div>
                    <h3 class="text-xl font-bold text-center mb-2">شركة التقنية المتقدمة</h3>
                    <p class="text-gray-600 text-center mb-4">شركة رائدة في مجال تطوير التطبيقات والحلول التقنية</p>
                    <div class="text-center text-sm text-gray-500 mb-4">
                        <i class="fas fa-map-marker-alt ml-1"></i>
                        الرياض
                    </div>
                    <div class="text-center">
                        <span class="bg-blue-100 text-blue-800 text-sm px-3 py-1 rounded-full">15 وظيفة متاحة</span>
                    </div>
                </div>
                
                <div class="bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow">
                    <div class="company-logo mx-auto mb-4">م</div>
                    <h3 class="text-xl font-bold text-center mb-2">مجموعة الأعمال الدولية</h3>
                    <p class="text-gray-600 text-center mb-4">مجموعة متنوعة من الشركات في مختلف القطاعات</p>
                    <div class="text-center text-sm text-gray-500 mb-4">
                        <i class="fas fa-map-marker-alt ml-1"></i>
                        جدة
                    </div>
                    <div class="text-center">
                        <span class="bg-green-100 text-green-800 text-sm px-3 py-1 rounded-full">8 وظائف متاحة</span>
                    </div>
                </div>
                
                <div class="bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow">
                    <div class="company-logo mx-auto mb-4">س</div>
                    <h3 class="text-xl font-bold text-center mb-2">شركة الإبداع للتسويق</h3>
                    <p class="text-gray-600 text-center mb-4">متخصصون في التسويق الرقمي والحملات الإعلانية</p>
                    <div class="text-center text-sm text-gray-500 mb-4">
                        <i class="fas fa-map-marker-alt ml-1"></i>
                        الدمام
                    </div>
                    <div class="text-center">
                        <span class="bg-purple-100 text-purple-800 text-sm px-3 py-1 rounded-full">12 وظيفة متاحة</span>
                    </div>
                </div>
                
                <div class="bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow">
                    <div class="company-logo mx-auto mb-4">ه</div>
                    <h3 class="text-xl font-bold text-center mb-2">هيئة التطوير التقني</h3>
                    <p class="text-gray-600 text-center mb-4">هيئة حكومية متخصصة في التطوير التقني</p>
                    <div class="text-center text-sm text-gray-500 mb-4">
                        <i class="fas fa-map-marker-alt ml-1"></i>
                        الرياض
                    </div>
                    <div class="text-center">
                        <span class="bg-yellow-100 text-yellow-800 text-sm px-3 py-1 rounded-full">20 وظيفة متاحة</span>
                    </div>
                </div>
                
                <div class="bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow">
                    <div class="company-logo mx-auto mb-4">ر</div>
                    <h3 class="text-xl font-bold text-center mb-2">رؤية للاستشارات</h3>
                    <p class="text-gray-600 text-center mb-4">شركة استشارية متخصصة في الموارد البشرية</p>
                    <div class="text-center text-sm text-gray-500 mb-4">
                        <i class="fas fa-map-marker-alt ml-1"></i>
                        مكة المكرمة
                    </div>
                    <div class="text-center">
                        <span class="bg-red-100 text-red-800 text-sm px-3 py-1 rounded-full">6 وظائف متاحة</span>
                    </div>
                </div>
                
                <div class="bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow">
                    <div class="company-logo mx-auto mb-4">ع</div>
                    <h3 class="text-xl font-bold text-center mb-2">عالم الإبداع للتصميم</h3>
                    <p class="text-gray-600 text-center mb-4">استوديو تصميم متخصص في الهوية البصرية</p>
                    <div class="text-center text-sm text-gray-500 mb-4">
                        <i class="fas fa-map-marker-alt ml-1"></i>
                        جدة
                    </div>
                    <div class="text-center">
                        <span class="bg-indigo-100 text-indigo-800 text-sm px-3 py-1 rounded-full">4 وظائف متاحة</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- صفحة عن المكتب -->
    <div id="aboutPage" class="page">
        <div class="bg-gradient-to-r from-purple-600 to-pink-600 text-white py-12">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h1 class="text-4xl font-bold mb-4">عن مكتب التوظيف</h1>
                <p class="text-xl opacity-90">تعرف على قصتنا ورؤيتنا في عالم التوظيف</p>
            </div>
        </div>
        
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center mb-16">
                <div>
                    <h2 class="text-3xl font-bold text-gray-900 mb-6">رؤيتنا</h2>
                    <p class="text-lg text-gray-600 mb-6 leading-relaxed">
                        نسعى لأن نكون الجسر الذي يربط بين المواهب المميزة وأفضل الفرص الوظيفية في المملكة العربية السعودية. نؤمن بأن كل شخص يستحق الحصول على الوظيفة التي تناسب مهاراته وطموحاته.
                    </p>
                    <p class="text-lg text-gray-600 leading-relaxed">
                        مع خبرة تزيد عن 10 سنوات في مجال التوظيف، نفخر بكوننا ساهمنا في تغيير حياة آلاف الأشخاص من خلال مساعدتهم في العثور على الوظيفة المثالية.
                    </p>
                </div>
                <div class="text-center">
                    <div class="bg-gradient-to-br from-blue-400 to-purple-600 rounded-2xl p-8 text-white">
                        <div class="text-6xl mb-4">
                            <i class="fas fa-rocket"></i>
                        </div>
                        <h3 class="text-2xl font-bold mb-4">مهمتنا</h3>
                        <p class="text-lg opacity-90">
                            تسهيل عملية البحث عن العمل وتوفير منصة موثوقة تجمع بين الباحثين عن عمل وأصحاب العمل
                        </p>
                    </div>
                </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-16">
                <div class="text-center">
                    <div class="bg-blue-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-search text-3xl text-blue-600"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-3">بحث متقدم</h3>
                    <p class="text-gray-600">نوفر أدوات بحث متطورة تساعدك في العثور على الوظيفة المناسبة بسرعة</p>
                </div>
                
                <div class="text-center">
                    <div class="bg-green-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-handshake text-3xl text-green-600"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-3">شراكات قوية</h3>
                    <p class="text-gray-600">نتعامل مع أفضل الشركات والمؤسسات لضمان توفير فرص عمل متميزة</p>
                </div>
                
                <div class="text-center">
                    <div class="bg-purple-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-users text-3xl text-purple-600"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-3">دعم مستمر</h3>
                    <p class="text-gray-600">فريق متخصص يقدم الدعم والمشورة طوال رحلة البحث عن العمل</p>
                </div>
            </div>
            
            <div class="bg-gray-50 rounded-2xl p-8">
                <h2 class="text-3xl font-bold text-gray-900 text-center mb-8">قيمنا</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="flex items-start">
                        <div class="bg-blue-600 text-white rounded-full w-8 h-8 flex items-center justify-center ml-4 mt-1">
                            <i class="fas fa-check text-sm"></i>
                        </div>
                        <div>
                            <h3 class="text-lg font-bold text-gray-900 mb-2">الشفافية</h3>
                            <p class="text-gray-600">نؤمن بالوضوح والصدق في جميع تعاملاتنا</p>
                        </div>
                    </div>
                    
                    <div class="flex items-start">
                        <div class="bg-blue-600 text-white rounded-full w-8 h-8 flex items-center justify-center ml-4 mt-1">
                            <i class="fas fa-check text-sm"></i>
                        </div>
                        <div>
                            <h3 class="text-lg font-bold text-gray-900 mb-2">الجودة</h3>
                            <p class="text-gray-600">نسعى دائماً لتقديم أفضل الخدمات والفرص</p>
                        </div>
                    </div>
                    
                    <div class="flex items-start">
                        <div class="bg-blue-600 text-white rounded-full w-8 h-8 flex items-center justify-center ml-4 mt-1">
                            <i class="fas fa-check text-sm"></i>
                        </div>
                        <div>
                            <h3 class="text-lg font-bold text-gray-900 mb-2">الابتكار</h3>
                            <p class="text-gray-600">نطور باستمرار أساليبنا لمواكبة التطورات</p>
                        </div>
                    </div>
                    
                    <div class="flex items-start">
                        <div class="bg-blue-600 text-white rounded-full w-8 h-8 flex items-center justify-center ml-4 mt-1">
                            <i class="fas fa-check text-sm"></i>
                        </div>
                        <div>
                            <h3 class="text-lg font-bold text-gray-900 mb-2">التميز</h3>
                            <p class="text-gray-600">نهدف للتفوق في كل ما نقوم به</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- صفحة لوحة صاحب العمل -->
    <div id="employer-dashboardPage" class="page">
        <div class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-12">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h1 class="text-4xl font-bold mb-4">لوحة تحكم صاحب العمل</h1>
                <p class="text-xl opacity-90">إدارة الوظائف والمتقدمين بسهولة</p>
            </div>
        </div>
        
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <!-- Dashboard Stats -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <div class="flex items-center">
                        <div class="bg-blue-100 rounded-full p-3">
                            <i class="fas fa-briefcase text-blue-600 text-xl"></i>
                        </div>
                        <div class="mr-4">
                            <p class="text-sm text-gray-600">الوظائف المنشورة</p>
                            <p class="text-2xl font-bold text-gray-900" id="publishedJobsCount">5</p>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <div class="flex items-center">
                        <div class="bg-green-100 rounded-full p-3">
                            <i class="fas fa-users text-green-600 text-xl"></i>
                        </div>
                        <div class="mr-4">
                            <p class="text-sm text-gray-600">إجمالي المتقدمين</p>
                            <p class="text-2xl font-bold text-gray-900" id="totalApplicants">23</p>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <div class="flex items-center">
                        <div class="bg-yellow-100 rounded-full p-3">
                            <i class="fas fa-eye text-yellow-600 text-xl"></i>
                        </div>
                        <div class="mr-4">
                            <p class="text-sm text-gray-600">مشاهدات الوظائف</p>
                            <p class="text-2xl font-bold text-gray-900" id="jobViews">156</p>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <div class="flex items-center">
                        <div class="bg-purple-100 rounded-full p-3">
                            <i class="fas fa-handshake text-purple-600 text-xl"></i>
                        </div>
                        <div class="mr-4">
                            <p class="text-sm text-gray-600">التوظيفات الناجحة</p>
                            <p class="text-2xl font-bold text-gray-900" id="successfulHires">8</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Quick Actions -->
            <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
                <h2 class="text-2xl font-bold text-gray-900 mb-6">الإجراءات السريعة</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <button onclick="showAddJobModal()" class="flex items-center justify-center p-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">
                        <i class="fas fa-plus ml-3"></i>
                        إضافة وظيفة جديدة
                    </button>
                    <button onclick="showApplicantsModal()" class="flex items-center justify-center p-4 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors">
                        <i class="fas fa-users ml-3"></i>
                        عرض المتقدمين
                    </button>
                    <button onclick="showJobAnalytics()" class="flex items-center justify-center p-4 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors">
                        <i class="fas fa-chart-bar ml-3"></i>
                        تحليلات الوظائف
                    </button>
                </div>
            </div>
            
            <!-- My Jobs -->
            <div class="bg-white rounded-xl shadow-lg p-6">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-bold text-gray-900">وظائفي المنشورة</h2>
                    <button onclick="showAddJobModal()" class="btn-primary text-white px-4 py-2 rounded-lg">
                        <i class="fas fa-plus ml-2"></i>
                        إضافة وظيفة
                    </button>
                </div>
                
                <div id="employerJobsList" class="space-y-4">
                    <!-- سيتم ملء الوظائف هنا بواسطة JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- صفحة التواصل -->
    <div id="contactPage" class="page">
        <div class="bg-gradient-to-r from-teal-600 to-blue-600 text-white py-12">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h1 class="text-4xl font-bold mb-4">تواصل معنا</h1>
                <p class="text-xl opacity-90">نحن هنا لمساعدتك في أي استفسار</p>
            </div>
        </div>
        
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                <!-- Contact Form -->
                <div class="bg-white rounded-xl shadow-lg p-8">
                    <h2 class="text-2xl font-bold text-gray-900 mb-6">أرسل لنا رسالة</h2>
                    <form onsubmit="sendMessage(event)">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">الاسم الكامل</label>
                                <input type="text" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="أدخل اسمك الكامل">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">البريد الإلكتروني</label>
                                <input type="email" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="أدخل بريدك الإلكتروني">
                            </div>
                        </div>
                        <div class="mb-6">
                            <label class="block text-sm font-medium text-gray-700 mb-2">رقم الهاتف</label>
                            <input type="tel" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="أدخل رقم هاتفك">
                        </div>
                        <div class="mb-6">
                            <label class="block text-sm font-medium text-gray-700 mb-2">موضوع الرسالة</label>
                            <select class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                <option>استفسار عام</option>
                                <option>مشكلة في الموقع</option>
                                <option>طلب شراكة</option>
                                <option>شكوى</option>
                                <option>اقتراح</option>
                            </select>
                        </div>
                        <div class="mb-6">
                            <label class="block text-sm font-medium text-gray-700 mb-2">الرسالة</label>
                            <textarea rows="5" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="اكتب رسالتك هنا..."></textarea>
                        </div>
                        <button type="submit" class="w-full btn-primary text-white py-3 rounded-lg font-medium">
                            <i class="fas fa-paper-plane ml-2"></i>
                            إرسال الرسالة
                        </button>
                    </form>
                </div>
                
                <!-- Contact Info -->
                <div>
                    <div class="bg-white rounded-xl shadow-lg p-8 mb-8">
                        <h2 class="text-2xl font-bold text-gray-900 mb-6">معلومات التواصل</h2>
                        <div class="space-y-6">
                            <div class="flex items-center">
                                <div class="bg-blue-100 rounded-full w-12 h-12 flex items-center justify-center ml-4">
                                    <i class="fas fa-phone text-blue-600"></i>
                                </div>
                                <div>
                                    <h3 class="font-medium text-gray-900">الهاتف</h3>
                                    <p class="text-gray-600">+966 11 123 4567</p>
                                </div>
                            </div>
                            
                            <div class="flex items-center">
                                <div class="bg-green-100 rounded-full w-12 h-12 flex items-center justify-center ml-4">
                                    <i class="fas fa-envelope text-green-600"></i>
                                </div>
                                <div>
                                    <h3 class="font-medium text-gray-900">البريد الإلكتروني</h3>
                                    <p class="text-gray-600">info@joboffice.sa</p>
                                </div>
                            </div>
                            
                            <div class="flex items-center">
                                <div class="bg-purple-100 rounded-full w-12 h-12 flex items-center justify-center ml-4">
                                    <i class="fas fa-map-marker-alt text-purple-600"></i>
                                </div>
                                <div>
                                    <h3 class="font-medium text-gray-900">العنوان</h3>
                                    <p class="text-gray-600">الرياض، المملكة العربية السعودية</p>
                                </div>
                            </div>
                            
                            <div class="flex items-center">
                                <div class="bg-yellow-100 rounded-full w-12 h-12 flex items-center justify-center ml-4">
                                    <i class="fas fa-clock text-yellow-600"></i>
                                </div>
                                <div>
                                    <h3 class="font-medium text-gray-900">ساعات العمل</h3>
                                    <p class="text-gray-600">الأحد - الخميس: 8:00 ص - 5:00 م</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-xl shadow-lg p-8">
                        <h2 class="text-2xl font-bold text-gray-900 mb-6">تابعنا على</h2>
                        <div class="flex space-x-4 space-x-reverse">
                            <a href="#" class="bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-full transition-colors">
                                <i class="fab fa-facebook-f text-xl"></i>
                            </a>
                            <a href="#" class="bg-green-600 hover:bg-green-700 text-white p-4 rounded-full transition-colors">
                                <i class="fab fa-whatsapp text-xl"></i>
                            </a>
                            <a href="#" class="bg-blue-400 hover:bg-blue-500 text-white p-4 rounded-full transition-colors">
                                <i class="fab fa-twitter text-xl"></i>
                            </a>
                            <a href="#" class="bg-blue-700 hover:bg-blue-800 text-white p-4 rounded-full transition-colors">
                                <i class="fab fa-linkedin-in text-xl"></i>
                            </a>
                            <a href="#" class="bg-red-600 hover:bg-red-700 text-white p-4 rounded-full transition-colors">
                                <i class="fab fa-instagram text-xl"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <!-- Company Info -->
                <div class="md:col-span-2">
                    <div class="bg-gradient-to-r from-blue-600 to-purple-600 text-white px-4 py-2 rounded-lg font-bold text-xl inline-block mb-4">
                        <i class="fas fa-briefcase ml-2"></i>
                        مكتب التوظيف
                    </div>
                    <p class="text-gray-300 mb-4 leading-relaxed">
                        نساعدك في العثور على الوظيفة المثالية التي تناسب مهاراتك وطموحاتك المهنية.
                    </p>
                    <div class="flex space-x-4 space-x-reverse">
                        <a href="#" class="bg-blue-600 hover:bg-blue-700 p-3 rounded-full transition-colors">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="bg-green-600 hover:bg-green-700 p-3 rounded-full transition-colors">
                            <i class="fab fa-whatsapp"></i>
                        </a>
                        <a href="#" class="bg-blue-400 hover:bg-blue-500 p-3 rounded-full transition-colors">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="bg-blue-700 hover:bg-blue-800 p-3 rounded-full transition-colors">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                    </div>
                </div>
                
                <!-- Quick Links -->
                <div>
                    <h3 class="text-xl font-bold mb-4">روابط سريعة</h3>
                    <div class="space-y-2">
                        <a href="#" onclick="showPage('home')" class="block text-gray-300 hover:text-white transition-colors">الرئيسية</a>
                        <a href="#" onclick="showPage('jobs')" class="block text-gray-300 hover:text-white transition-colors">الوظائف</a>
                        <a href="#" onclick="showPage('companies')" class="block text-gray-300 hover:text-white transition-colors">الشركات</a>
                        <a href="#" onclick="showPage('about')" class="block text-gray-300 hover:text-white transition-colors">عن المكتب</a>
                        <a href="#" onclick="showPage('contact')" class="block text-gray-300 hover:text-white transition-colors">تواصل معنا</a>
                    </div>
                </div>
                
                <!-- Contact Info -->
                <div>
                    <h3 class="text-xl font-bold mb-4">معلومات التواصل</h3>
                    <div class="space-y-3">
                        <div class="flex items-center">
                            <i class="fas fa-phone ml-3 text-blue-400"></i>
                            <span>+966 11 123 4567</span>
                        </div>
                        <div class="flex items-center">
                            <i class="fas fa-envelope ml-3 text-blue-400"></i>
                            <span>info@joboffice.sa</span>
                        </div>
                        <div class="flex items-center">
                            <i class="fas fa-map-marker-alt ml-3 text-blue-400"></i>
                            <span>الرياض، المملكة العربية السعودية</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="border-t border-gray-700 mt-8 pt-8 text-center">
                <p class="text-gray-400">
                    © 2024 مكتب التوظيف. جميع الحقوق محفوظة.
                </p>
            </div>
        </div>
    </footer>

    <script>
        // متغيرات المستخدم
        let currentUser = null;
        let userType = null;

        // بيانات الوظائف
        let jobsData = [
            { id: 1, title: 'مطور تطبيقات الجوال', company: 'شركة التقنية المتقدمة', location: 'الرياض', type: 'دوام كامل', category: 'تقنية المعلومات', logo: 'ت', keywords: ['مطور', 'تطبيقات', 'جوال', 'برمجة'] },
            { id: 2, title: 'محاسب مالي', company: 'مجموعة الأعمال الدولية', location: 'جدة', type: 'دوام جزئي', category: 'المحاسبة والمالية', logo: 'م', keywords: ['محاسب', 'مالي', 'حسابات'] },
            { id: 3, title: 'مختص تسويق رقمي', company: 'شركة الإبداع للتسويق', location: 'الدمام', type: 'دوام كامل', category: 'التسويق والمبيعات', logo: 'س', keywords: ['تسويق', 'رقمي', 'سوشيال'] },
            { id: 4, title: 'مهندس برمجيات', company: 'هيئة التطوير التقني', location: 'الرياض', type: 'دوام كامل', category: 'تقنية المعلومات', logo: 'ه', keywords: ['مهندس', 'برمجيات', 'تطوير'] },
            { id: 5, title: 'أخصائي موارد بشرية', company: 'رؤية للاستشارات', location: 'مكة المكرمة', type: 'دوام جزئي', category: 'الموارد البشرية', logo: 'ر', keywords: ['موارد', 'بشرية', 'hr'] },
            { id: 6, title: 'مصمم جرافيك', company: 'عالم الإبداع للتصميم', location: 'جدة', type: 'دوام كامل', category: 'التصميم', logo: 'ع', keywords: ['مصمم', 'جرافيك', 'تصميم'] },
            { id: 7, title: 'مطور ويب', company: 'شركة التقنية المتقدمة', location: 'الرياض', type: 'دوام كامل', category: 'تقنية المعلومات', logo: 'ت', keywords: ['مطور', 'ويب', 'برمجة'] },
            { id: 8, title: 'مدير مبيعات', company: 'مجموعة الأعمال الدولية', location: 'جدة', type: 'دوام كامل', category: 'التسويق والمبيعات', logo: 'م', keywords: ['مدير', 'مبيعات', 'تسويق'] },
            { id: 9, title: 'محلل بيانات', company: 'هيئة التطوير التقني', location: 'الرياض', type: 'دوام كامل', category: 'تقنية المعلومات', logo: 'ه', keywords: ['محلل', 'بيانات', 'تحليل'] }
        ];

        let currentJobs = [...jobsData];

        // وظائف التنقل بين الصفحات
        function showPage(pageId) {
            // إخفاء جميع الصفحات
            const pages = document.querySelectorAll('.page');
            pages.forEach(page => page.classList.remove('active'));
            
            // إظهار الصفحة المطلوبة
            const targetPage = document.getElementById(pageId + 'Page');
            if (targetPage) {
                targetPage.classList.add('active');
            }
            
            // تحديث الروابط النشطة
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => link.classList.remove('active'));
            
            const activeLink = document.querySelector(`[onclick="showPage('${pageId}')"]`);
            if (activeLink && activeLink.classList.contains('nav-link')) {
                activeLink.classList.add('active');
            }
            
            // تحميل الوظائف إذا كانت صفحة الوظائف
            if (pageId === 'jobs') {
                loadJobs();
            }
            
            // التمرير لأعلى الصفحة
            window.scrollTo(0, 0);
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobileMenu');
            menu.classList.toggle('hidden');
        }

        // وظائف البحث
        function searchJobsFromHome() {
            const keyword = document.getElementById('searchKeyword').value;
            const city = document.getElementById('searchCity').value;
            const category = document.getElementById('searchCategory').value;
            
            if (keyword.trim() === '') {
                showNotification('يرجى إدخال كلمة مفتاحية للبحث', 'error');
                return;
            }
            
            // الانتقال لصفحة الوظائف مع البحث
            showPage('jobs');
            setTimeout(() => {
                document.getElementById('jobSearchKeyword').value = keyword;
                document.getElementById('jobSearchCity').value = city;
                document.getElementById('jobSearchCategory').value = category;
                filterJobs();
            }, 100);
        }

        function filterJobs() {
            const keyword = document.getElementById('jobSearchKeyword').value.toLowerCase();
            const city = document.getElementById('jobSearchCity').value;
            const category = document.getElementById('jobSearchCategory').value;
            const type = document.getElementById('jobSearchType').value;
            
            currentJobs = jobsData.filter(job => {
                const keywordMatch = keyword === '' || 
                    job.title.toLowerCase().includes(keyword) ||
                    job.company.toLowerCase().includes(keyword) ||
                    job.keywords.some(k => k.includes(keyword));
                
                const cityMatch = city === 'جميع المدن' || job.location === city;
                const categoryMatch = category === 'جميع التصنيفات' || job.category === category;
                const typeMatch = type === 'نوع الوظيفة' || job.type === type;
                
                return keywordMatch && cityMatch && categoryMatch && typeMatch;
            });
            
            loadJobs();
            
            if (currentJobs.length === 0) {
                showNotification('لم يتم العثور على وظائف مطابقة للبحث', 'info');
            } else {
                showNotification(`تم العثور على ${currentJobs.length} وظيفة`, 'success');
            }
        }

        function loadJobs() {
            const jobsGrid = document.getElementById('jobsGrid');
            if (!jobsGrid) return;
            
            jobsGrid.innerHTML = '';
            
            currentJobs.forEach(job => {
                const jobCard = document.createElement('div');
                jobCard.className = 'job-card bg-white rounded-xl p-6';
                jobCard.innerHTML = `
                    <div class="flex items-start justify-between mb-4">
                        <div class="company-logo">${job.logo}</div>
                        <span class="bg-${job.type === 'دوام كامل' ? 'green' : 'blue'}-100 text-${job.type === 'دوام كامل' ? 'green' : 'blue'}-800 text-sm px-3 py-1 rounded-full">${job.type}</span>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-2">${job.title}</h3>
                    <p class="text-gray-600 mb-2">${job.company}</p>
                    <div class="flex items-center text-gray-500 mb-4">
                        <i class="fas fa-map-marker-alt ml-2"></i>
                        <span>${job.location}</span>
                    </div>
                    <div class="flex items-center justify-between">
                        <span class="text-sm text-gray-500">${job.category}</span>
                        <button onclick="viewJobDetails('${job.title}')" class="bg-blue-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-blue-700 transition-colors">
                            عرض التفاصيل
                        </button>
                    </div>
                `;
                jobsGrid.appendChild(jobCard);
            });
        }

        function viewJobDetails(jobTitle) {
            const jobDetails = {
                'مطور تطبيقات الجوال': {
                    company: 'شركة التقنية المتقدمة',
                    location: 'الرياض',
                    type: 'دوام كامل',
                    salary: '8,000 - 12,000 ريال',
                    description: 'نبحث عن مطور تطبيقات جوال محترف للانضمام لفريقنا. المرشح المثالي يجب أن يكون لديه خبرة في تطوير تطبيقات iOS و Android.',
                    requirements: ['خبرة 3+ سنوات في تطوير التطبيقات', 'إتقان Swift و Kotlin', 'معرفة بـ React Native', 'شهادة جامعية في علوم الحاسب']
                },
                'محاسب مالي': {
                    company: 'مجموعة الأعمال الدولية',
                    location: 'جدة',
                    type: 'دوام جزئي',
                    salary: '5,000 - 7,000 ريال',
                    description: 'مطلوب محاسب مالي للعمل في إعداد التقارير المالية والميزانيات.',
                    requirements: ['شهادة في المحاسبة', 'خبرة سنتين على الأقل', 'إتقان Excel و SAP', 'دقة في العمل']
                },
                'مختص تسويق رقمي': {
                    company: 'شركة الإبداع للتسويق',
                    location: 'الدمام',
                    type: 'دوام كامل',
                    salary: '6,000 - 9,000 ريال',
                    description: 'نبحث عن مختص تسويق رقمي لإدارة حملاتنا الإعلانية على منصات التواصل الاجتماعي.',
                    requirements: ['خبرة في إدارة حملات Google Ads', 'معرفة بـ SEO و SEM', 'مهارات تحليلية قوية', 'إبداع في المحتوى']
                }
            };

            const job = jobDetails[jobTitle] || {
                company: 'شركة متميزة',
                location: 'المملكة العربية السعودية',
                type: 'دوام كامل',
                salary: 'راتب تنافسي',
                description: 'وظيفة ممتازة في بيئة عمل محفزة.',
                requirements: ['مؤهلات مناسبة', 'خبرة في المجال', 'مهارات تواصل جيدة']
            };

            showJobModal(jobTitle, job);
        }

        function showJobModal(title, job) {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4';
            modal.innerHTML = `
                <div class="bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto">
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-6">
                            <h2 class="text-2xl font-bold text-gray-900">${title}</h2>
                            <button onclick="closeModal()" class="text-gray-500 hover:text-gray-700 text-2xl">×</button>
                        </div>
                        
                        <div class="space-y-4 mb-6">
                            <div class="flex items-center text-gray-600">
                                <i class="fas fa-building ml-3 text-blue-500"></i>
                                <span>${job.company}</span>
                            </div>
                            <div class="flex items-center text-gray-600">
                                <i class="fas fa-map-marker-alt ml-3 text-blue-500"></i>
                                <span>${job.location}</span>
                            </div>
                            <div class="flex items-center text-gray-600">
                                <i class="fas fa-clock ml-3 text-blue-500"></i>
                                <span>${job.type}</span>
                            </div>
                            <div class="flex items-center text-gray-600">
                                <i class="fas fa-money-bill-wave ml-3 text-green-500"></i>
                                <span>${job.salary}</span>
                            </div>
                        </div>
                        
                        <div class="mb-6">
                            <h3 class="text-lg font-bold text-gray-900 mb-3">وصف الوظيفة</h3>
                            <p class="text-gray-600 leading-relaxed">${job.description}</p>
                        </div>
                        
                        <div class="mb-6">
                            <h3 class="text-lg font-bold text-gray-900 mb-3">المتطلبات</h3>
                            <ul class="space-y-2">
                                ${job.requirements.map(req => `<li class="flex items-start text-gray-600"><i class="fas fa-check text-green-500 ml-2 mt-1"></i>${req}</li>`).join('')}
                            </ul>
                        </div>
                        
                        <div class="flex gap-4">
                            <button onclick="applyForJob('${title}')" class="flex-1 btn-primary text-white py-3 rounded-lg font-medium">
                                <i class="fas fa-paper-plane ml-2"></i>
                                تقدم للوظيفة
                            </button>
                            <button onclick="saveJob('${title}')" class="px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors">
                                <i class="fas fa-bookmark ml-2"></i>
                                حفظ
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    closeModal();
                }
            });
        }

        function closeModal() {
            const modal = document.querySelector('.fixed.inset-0');
            if (modal) {
                modal.remove();
            }
        }

        function applyForJob(jobTitle) {
            showNotification(`تم تقديم طلبك لوظيفة: ${jobTitle}`, 'success');
            closeModal();
        }

        function saveJob(jobTitle) {
            showNotification(`تم حفظ وظيفة: ${jobTitle}`, 'info');
        }

        function sendMessage(event) {
            event.preventDefault();
            showNotification('تم إرسال رسالتك بنجاح! سنتواصل معك قريباً', 'success');
            event.target.reset();
        }

        function showLoginModal() {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4';
            modal.innerHTML = `
                <div class="bg-white rounded-2xl max-w-md w-full">
                    <div class="p-6">
                        <div class="flex justify-between items-center mb-6">
                            <h2 class="text-2xl font-bold text-gray-900">تسجيل الدخول</h2>
                            <button onclick="closeModal()" class="text-gray-500 hover:text-gray-700 text-2xl">×</button>
                        </div>
                        
                        <div class="mb-6">
                            <div class="flex border-b border-gray-200 mb-6">
                                <button onclick="switchTab('login')" id="loginTab" class="flex-1 py-2 text-center font-medium border-b-2 border-blue-500 text-blue-600">
                                    تسجيل دخول
                                </button>
                                <button onclick="switchTab('register')" id="registerTab" class="flex-1 py-2 text-center font-medium text-gray-500 hover:text-gray-700">
                                    إنشاء حساب
                                </button>
                            </div>
                            
                            <div id="loginForm">
                                <div class="space-y-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">البريد الإلكتروني</label>
                                        <input type="email" id="loginEmail" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="أدخل بريدك الإلكتروني">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">كلمة المرور</label>
                                        <input type="password" id="loginPassword" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="أدخل كلمة المرور">
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <label class="flex items-center">
                                            <input type="checkbox" class="rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                                            <span class="mr-2 text-sm text-gray-600">تذكرني</span>
                                        </label>
                                        <a href="#" class="text-sm text-blue-600 hover:text-blue-500">نسيت كلمة المرور؟</a>
                                    </div>
                                    <button onclick="handleLogin()" class="w-full btn-primary text-white py-3 rounded-lg font-medium">
                                        تسجيل الدخول
                                    </button>
                                </div>
                            </div>
                            
                            <div id="registerForm" class="hidden">
                                <div class="space-y-4">
                                    <div class="form-field animate">
                                        <label class="block text-sm font-medium text-gray-700 mb-3">نوع الحساب</label>
                                        <div class="grid grid-cols-2 gap-4">
                                            <label class="account-type-card flex items-center p-4 border-2 border-gray-300 rounded-lg cursor-pointer">
                                                <input type="radio" name="accountType" value="jobseeker" class="text-blue-600 focus:ring-blue-500" checked>
                                                <div class="mr-3">
                                                    <i class="fas fa-user text-blue-600 text-xl mb-1"></i>
                                                    <div class="font-medium text-gray-900">باحث عن عمل</div>
                                                    <div class="text-sm text-gray-500">أبحث عن وظيفة</div>
                                                </div>
                                            </label>
                                            <label class="account-type-card flex items-center p-4 border-2 border-gray-300 rounded-lg cursor-pointer">
                                                <input type="radio" name="accountType" value="employer" class="text-blue-600 focus:ring-blue-500">
                                                <div class="mr-3">
                                                    <i class="fas fa-building text-green-600 text-xl mb-1"></i>
                                                    <div class="font-medium text-gray-900">صاحب عمل</div>
                                                    <div class="text-sm text-gray-500">أريد توظيف موظفين</div>
                                                </div>
                                            </label>
                                        </div>
                                    </div>
                                    
                                    <div class="form-field">
                                        <label class="block text-sm font-medium text-gray-700 mb-2">الاسم الكامل</label>
                                        <input type="text" id="registerName" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300" placeholder="أدخل اسمك الكامل">
                                    </div>
                                    
                                    <div id="companyFields" class="space-y-4">
                                        <div class="form-field">
                                            <label class="block text-sm font-medium text-gray-700 mb-2">اسم الشركة</label>
                                            <input type="text" id="companyName" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300" placeholder="أدخل اسم شركتك">
                                        </div>
                                        <div class="form-field">
                                            <label class="block text-sm font-medium text-gray-700 mb-2">قطاع الشركة</label>
                                            <select id="companySector" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300">
                                                <option value="">اختر القطاع</option>
                                                <option>تقنية المعلومات</option>
                                                <option>المحاسبة والمالية</option>
                                                <option>التسويق والمبيعات</option>
                                                <option>الموارد البشرية</option>
                                                <option>الهندسة</option>
                                                <option>الصحة</option>
                                                <option>التعليم</option>
                                                <option>التجارة</option>
                                                <option>الصناعة</option>
                                                <option>أخرى</option>
                                            </select>
                                        </div>
                                    </div>
                                    
                                    <div class="form-field">
                                        <label class="block text-sm font-medium text-gray-700 mb-2">البريد الإلكتروني</label>
                                        <input type="email" id="registerEmail" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300" placeholder="أدخل بريدك الإلكتروني">
                                    </div>
                                    <div class="form-field">
                                        <label class="block text-sm font-medium text-gray-700 mb-2">كلمة المرور</label>
                                        <input type="password" id="registerPassword" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300" placeholder="أدخل كلمة المرور">
                                    </div>
                                    <div class="form-field">
                                        <label class="block text-sm font-medium text-gray-700 mb-2">تأكيد كلمة المرور</label>
                                        <input type="password" id="confirmPassword" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300" placeholder="أعد إدخال كلمة المرور">
                                    </div>
                                    <div class="form-field">
                                        <label class="flex items-center">
                                            <input type="checkbox" id="agreeTerms" class="rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                                            <span class="mr-2 text-sm text-gray-600">أوافق على <a href="#" class="text-blue-600 hover:text-blue-500">الشروط والأحكام</a></span>
                                        </label>
                                    </div>
                                    <div class="form-field">
                                        <button onclick="handleRegister()" class="register-button w-full text-white py-3 rounded-lg font-medium">
                                            <i class="fas fa-user-plus ml-2"></i>
                                            إنشاء حساب
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    closeModal();
                }
            });
        }

        function switchTab(tab) {
            const loginTab = document.getElementById('loginTab');
            const registerTab = document.getElementById('registerTab');
            const loginForm = document.getElementById('loginForm');
            const registerForm = document.getElementById('registerForm');
            
            if (tab === 'login') {
                loginTab.className = 'flex-1 py-2 text-center font-medium border-b-2 border-blue-500 text-blue-600';
                registerTab.className = 'flex-1 py-2 text-center font-medium text-gray-500 hover:text-gray-700';
                loginForm.classList.remove('hidden');
                registerForm.classList.add('hidden');
            } else {
                registerTab.className = 'flex-1 py-2 text-center font-medium border-b-2 border-blue-500 text-blue-600';
                loginTab.className = 'flex-1 py-2 text-center font-medium text-gray-500 hover:text-gray-700';
                registerForm.classList.remove('hidden');
                loginForm.classList.add('hidden');
                
                // إضافة تأثيرات الحركة للحقول
                setTimeout(() => {
                    const formFields = registerForm.querySelectorAll('.form-field');
                    formFields.forEach((field, index) => {
                        setTimeout(() => {
                            field.classList.add('animate');
                        }, index * 100);
                    });
                    
                    // إضافة مستمع للتغيير في نوع الحساب داخل النموذج
                    const accountTypeInputs = registerForm.querySelectorAll('input[name="accountType"]');
                    accountTypeInputs.forEach(input => {
                        input.addEventListener('change', function() {
                            const companyFields = document.getElementById('companyFields');
                            if (companyFields) {
                                if (this.value === 'employer') {
                                    companyFields.classList.add('show');
                                    setTimeout(() => {
                                        const companyFormFields = companyFields.querySelectorAll('.form-field');
                                        companyFormFields.forEach((field, index) => {
                                            setTimeout(() => {
                                                field.classList.add('animate');
                                            }, index * 150 + 300);
                                        });
                                    }, 100);
                                } else {
                                    companyFields.classList.remove('show');
                                    const companyFormFields = companyFields.querySelectorAll('.form-field');
                                    companyFormFields.forEach(field => {
                                        field.classList.remove('animate');
                                    });
                                }
                            }
                        });
                    });
                }, 50);
            }
        }

        function handleLogin() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            if (!email || !password) {
                showNotification('يرجى ملء جميع الحقول', 'error');
                return;
            }
            
            // محاكاة تسجيل دخول (في التطبيق الحقيقي ستكون هناك مصادقة من الخادم)
            if (email === 'employer@test.com') {
                currentUser = {
                    name: 'أحمد محمد',
                    email: email,
                    type: 'employer',
                    companyName: 'شركة التقنية المتقدمة',
                    companySector: 'تقنية المعلومات'
                };
                userType = 'employer';
            } else {
                currentUser = {
                    name: 'سارة أحمد',
                    email: email,
                    type: 'jobseeker'
                };
                userType = 'jobseeker';
            }
            
            updateUIForLoggedInUser();
            showNotification(`تم تسجيل الدخول بنجاح! مرحباً بك ${currentUser.name}`, 'success');
            closeModal();
        }

        function handleRegister() {
            const name = document.getElementById('registerName').value;
            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            const agreeTerms = document.getElementById('agreeTerms').checked;
            const accountType = document.querySelector('input[name="accountType"]:checked').value;
            
            if (!name || !email || !password || !confirmPassword) {
                showNotification('يرجى ملء جميع الحقول', 'error');
                return;
            }
            
            if (accountType === 'employer') {
                const companyName = document.getElementById('companyName').value;
                const companySector = document.getElementById('companySector').value;
                
                if (!companyName || !companySector || companySector === '' || companySector === 'اختر القطاع') {
                    showNotification('يرجى ملء معلومات الشركة', 'error');
                    return;
                }
            }
            
            if (password !== confirmPassword) {
                showNotification('كلمات المرور غير متطابقة', 'error');
                return;
            }
            
            if (!agreeTerms) {
                showNotification('يرجى الموافقة على الشروط والأحكام', 'error');
                return;
            }
            
            // حفظ بيانات المستخدم
            currentUser = {
                name: name,
                email: email,
                type: accountType,
                companyName: accountType === 'employer' ? document.getElementById('companyName').value : null,
                companySector: accountType === 'employer' ? document.getElementById('companySector').value : null
            };
            userType = accountType;
            
            updateUIForLoggedInUser();
            showNotification(`تم إنشاء حسابك بنجاح! مرحباً بك ${name}`, 'success');
            closeModal();
        }

        function updateUIForLoggedInUser() {
            const loginButton = document.getElementById('loginButton');
            const userMenu = document.getElementById('userMenu');
            const userName = document.getElementById('userName');
            const employerDashboardLink = document.getElementById('employerDashboardLink');
            const mobileEmployerDashboard = document.getElementById('mobileEmployerDashboard');
            const dashboardMenuItem = document.getElementById('dashboardMenuItem');
            
            if (currentUser) {
                loginButton.classList.add('hidden');
                userMenu.classList.remove('hidden');
                userName.textContent = currentUser.name;
                
                if (userType === 'employer') {
                    employerDashboardLink.classList.remove('hidden');
                    mobileEmployerDashboard.classList.remove('hidden');
                    dashboardMenuItem.classList.remove('hidden');
                }
            }
        }

        function toggleUserMenu() {
            const dropdown = document.getElementById('userDropdown');
            dropdown.classList.toggle('hidden');
        }

        // إغلاق القائمة عند النقر خارجها
        document.addEventListener('click', function(e) {
            const userMenu = document.getElementById('userMenu');
            const dropdown = document.getElementById('userDropdown');
            if (userMenu && !userMenu.contains(e.target)) {
                dropdown.classList.add('hidden');
            }
        });

        function logout() {
            currentUser = null;
            userType = null;
            
            const loginButton = document.getElementById('loginButton');
            const userMenu = document.getElementById('userMenu');
            const employerDashboardLink = document.getElementById('employerDashboardLink');
            const mobileEmployerDashboard = document.getElementById('mobileEmployerDashboard');
            const dashboardMenuItem = document.getElementById('dashboardMenuItem');
            
            loginButton.classList.remove('hidden');
            userMenu.classList.add('hidden');
            employerDashboardLink.classList.add('hidden');
            mobileEmployerDashboard.classList.add('hidden');
            dashboardMenuItem.classList.add('hidden');
            
            showPage('home');
            showNotification('تم تسجيل الخروج بنجاح', 'info');
        }

        function showNotification(message, type = 'info') {
            const existingNotifications = document.querySelectorAll('.notification');
            existingNotifications.forEach(notification => notification.remove());

            const notification = document.createElement('div');
            notification.className = 'notification fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg max-w-sm transform transition-all duration-300 translate-x-full';
            
            let bgColor, icon;
            switch(type) {
                case 'success':
                    bgColor = 'bg-green-500';
                    icon = 'fas fa-check-circle';
                    break;
                case 'error':
                    bgColor = 'bg-red-500';
                    icon = 'fas fa-exclamation-circle';
                    break;
                case 'info':
                default:
                    bgColor = 'bg-blue-500';
                    icon = 'fas fa-info-circle';
                    break;
            }
            
            notification.className += ` ${bgColor} text-white`;
            notification.innerHTML = `
                <div class="flex items-center">
                    <i class="${icon} ml-3"></i>
                    <span class="flex-1">${message}</span>
                    <button onclick="this.parentElement.parentElement.remove()" class="mr-2 text-white hover:text-gray-200">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.classList.remove('translate-x-full');
            }, 100);
            
            setTimeout(() => {
                notification.classList.add('translate-x-full');
                setTimeout(() => {
                    if (notification.parentElement) {
                        notification.remove();
                    }
                }, 300);
            }, 5000);
        }

        // وظائف إدارة الوظائف لأصحاب العمل
        function showAddJobModal() {
            if (!currentUser || userType !== 'employer') {
                showNotification('يجب تسجيل الدخول كصاحب عمل أولاً', 'error');
                return;
            }
            
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4';
            modal.innerHTML = `
                <div class="bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto transform scale-95 opacity-0 transition-all duration-300" id="jobModal">
                    <div class="p-6">
                        <div class="flex justify-between items-center mb-6">
                            <div>
                                <h2 class="text-2xl font-bold text-gray-900">إضافة وظيفة جديدة</h2>
                                <p class="text-gray-600 mt-1">أضف وظيفة جديدة لشركة ${currentUser.companyName}</p>
                            </div>
                            <button onclick="closeModal()" class="text-gray-500 hover:text-gray-700 text-2xl transition-colors">×</button>
                        </div>
                        
                        <form onsubmit="addNewJob(event)" class="space-y-6">
                            <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6">
                                <div class="flex items-center">
                                    <i class="fas fa-info-circle text-blue-600 ml-3"></i>
                                    <div>
                                        <h3 class="font-medium text-blue-900">معلومات الشركة</h3>
                                        <p class="text-sm text-blue-700">الشركة: ${currentUser.companyName} | القطاع: ${currentUser.companySector}</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div class="job-form-field">
                                    <label class="block text-sm font-medium text-gray-700 mb-2">
                                        <i class="fas fa-briefcase text-blue-500 ml-2"></i>
                                        عنوان الوظيفة
                                    </label>
                                    <input type="text" id="jobTitle" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300" placeholder="مثال: مطور ويب">
                                </div>
                                <div class="job-form-field">
                                    <label class="block text-sm font-medium text-gray-700 mb-2">
                                        <i class="fas fa-map-marker-alt text-green-500 ml-2"></i>
                                        المدينة
                                    </label>
                                    <select id="jobLocation" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300">
                                        <option value="">اختر المدينة</option>
                                        <option>الرياض</option>
                                        <option>جدة</option>
                                        <option>الدمام</option>
                                        <option>مكة المكرمة</option>
                                        <option>المدينة المنورة</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div class="job-form-field">
                                    <label class="block text-sm font-medium text-gray-700 mb-2">
                                        <i class="fas fa-clock text-purple-500 ml-2"></i>
                                        نوع الوظيفة
                                    </label>
                                    <select id="jobType" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300">
                                        <option value="">اختر النوع</option>
                                        <option>دوام كامل</option>
                                        <option>دوام جزئي</option>
                                        <option>عمل حر</option>
                                        <option>تدريب</option>
                                    </select>
                                </div>
                                <div class="job-form-field">
                                    <label class="block text-sm font-medium text-gray-700 mb-2">
                                        <i class="fas fa-tags text-orange-500 ml-2"></i>
                                        التصنيف
                                    </label>
                                    <select id="jobCategory" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300">
                                        <option value="">اختر التصنيف</option>
                                        <option>تقنية المعلومات</option>
                                        <option>المحاسبة والمالية</option>
                                        <option>التسويق والمبيعات</option>
                                        <option>الموارد البشرية</option>
                                        <option>الهندسة</option>
                                        <option>الصحة</option>
                                        <option>التعليم</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="job-form-field">
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    <i class="fas fa-money-bill-wave text-green-500 ml-2"></i>
                                    الراتب (اختياري)
                                </label>
                                <input type="text" id="jobSalary" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300" placeholder="مثال: 5000 - 8000 ريال">
                            </div>
                            
                            <div class="job-form-field">
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    <i class="fas fa-file-alt text-blue-500 ml-2"></i>
                                    وصف الوظيفة
                                </label>
                                <textarea id="jobDescription" rows="4" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300" placeholder="اكتب وصفاً مفصلاً للوظيفة والمهام المطلوبة..."></textarea>
                            </div>
                            
                            <div class="job-form-field">
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    <i class="fas fa-list-check text-red-500 ml-2"></i>
                                    المتطلبات (كل متطلب في سطر منفصل)
                                </label>
                                <textarea id="jobRequirements" rows="4" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300" placeholder="مثال:&#10;خبرة 3 سنوات في المجال&#10;شهادة جامعية في التخصص&#10;إتقان اللغة الإنجليزية&#10;مهارات تواصل ممتازة"></textarea>
                            </div>
                            
                            <div class="flex gap-4 pt-4 border-t border-gray-200">
                                <button type="submit" class="flex-1 btn-primary text-white py-3 rounded-lg font-medium transform hover:scale-105 transition-all duration-300">
                                    <i class="fas fa-plus ml-2"></i>
                                    نشر الوظيفة
                                </button>
                                <button type="button" onclick="closeModal()" class="px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors">
                                    <i class="fas fa-times ml-2"></i>
                                    إلغاء
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            // تأثير الظهور
            setTimeout(() => {
                const jobModal = document.getElementById('jobModal');
                jobModal.classList.remove('scale-95', 'opacity-0');
                jobModal.classList.add('scale-100', 'opacity-100');
                
                // تأثير تدريجي للحقول
                const formFields = modal.querySelectorAll('.job-form-field');
                formFields.forEach((field, index) => {
                    setTimeout(() => {
                        field.style.opacity = '1';
                        field.style.transform = 'translateY(0)';
                    }, index * 100);
                });
            }, 50);
            
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    closeModal();
                }
            });
        }

        function addNewJob(event) {
            event.preventDefault();
            
            const newJob = {
                id: jobsData.length + 1,
                title: document.getElementById('jobTitle').value,
                company: currentUser.companyName,
                location: document.getElementById('jobLocation').value,
                type: document.getElementById('jobType').value,
                category: document.getElementById('jobCategory').value,
                salary: document.getElementById('jobSalary').value || 'راتب تنافسي',
                description: document.getElementById('jobDescription').value,
                requirements: document.getElementById('jobRequirements').value.split('\n').filter(req => req.trim() !== ''),
                logo: currentUser.companyName.charAt(0),
                keywords: document.getElementById('jobTitle').value.split(' '),
                employerId: currentUser.email,
                datePosted: new Date().toLocaleDateString('ar-SA'),
                applicants: 0,
                views: 0
            };
            
            jobsData.push(newJob);
            
            // تحديث الإحصائيات
            updateEmployerStats();
            loadEmployerJobs();
            
            showNotification('تم نشر الوظيفة بنجاح!', 'success');
            closeModal();
        }

        function loadEmployerJobs() {
            if (!currentUser || userType !== 'employer') return;
            
            const employerJobsList = document.getElementById('employerJobsList');
            if (!employerJobsList) return;
            
            const employerJobs = jobsData.filter(job => job.employerId === currentUser.email);
            
            if (employerJobs.length === 0) {
                employerJobsList.innerHTML = `
                    <div class="text-center py-8">
                        <i class="fas fa-briefcase text-gray-400 text-4xl mb-4"></i>
                        <p class="text-gray-600">لم تقم بنشر أي وظائف بعد</p>
                        <button onclick="showAddJobModal()" class="mt-4 btn-primary text-white px-6 py-2 rounded-lg">
                            انشر وظيفتك الأولى
                        </button>
                    </div>
                `;
                return;
            }
            
            employerJobsList.innerHTML = employerJobs.map(job => `
                <div class="border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow">
                    <div class="flex justify-between items-start mb-4">
                        <div class="flex-1">
                            <h3 class="text-xl font-bold text-gray-900 mb-2">${job.title}</h3>
                            <div class="flex items-center text-gray-600 mb-2">
                                <i class="fas fa-map-marker-alt ml-2"></i>
                                <span>${job.location}</span>
                                <span class="mx-2">•</span>
                                <span>${job.type}</span>
                            </div>
                            <div class="flex items-center text-sm text-gray-500">
                                <i class="fas fa-calendar ml-2"></i>
                                <span>نُشرت في ${job.datePosted}</span>
                            </div>
                        </div>
                        <div class="flex items-center space-x-2 space-x-reverse">
                            <span class="bg-blue-100 text-blue-800 text-sm px-3 py-1 rounded-full">
                                ${job.applicants} متقدم
                            </span>
                            <span class="bg-green-100 text-green-800 text-sm px-3 py-1 rounded-full">
                                ${job.views} مشاهدة
                            </span>
                        </div>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="editJob(${job.id})" class="text-blue-600 hover:text-blue-700 text-sm font-medium">
                            <i class="fas fa-edit ml-1"></i>
                            تعديل
                        </button>
                        <button onclick="viewJobApplicants(${job.id})" class="text-green-600 hover:text-green-700 text-sm font-medium">
                            <i class="fas fa-users ml-1"></i>
                            المتقدمين
                        </button>
                        <button onclick="deleteJob(${job.id})" class="text-red-600 hover:text-red-700 text-sm font-medium">
                            <i class="fas fa-trash ml-1"></i>
                            حذف
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function updateEmployerStats() {
            if (!currentUser || userType !== 'employer') return;
            
            const employerJobs = jobsData.filter(job => job.employerId === currentUser.email);
            const totalApplicants = employerJobs.reduce((sum, job) => sum + (job.applicants || 0), 0);
            const totalViews = employerJobs.reduce((sum, job) => sum + (job.views || 0), 0);
            
            const publishedJobsCount = document.getElementById('publishedJobsCount');
            const totalApplicantsEl = document.getElementById('totalApplicants');
            const jobViewsEl = document.getElementById('jobViews');
            
            if (publishedJobsCount) publishedJobsCount.textContent = employerJobs.length;
            if (totalApplicantsEl) totalApplicantsEl.textContent = totalApplicants;
            if (jobViewsEl) jobViewsEl.textContent = totalViews;
        }

        function deleteJob(jobId) {
            if (confirm('هل أنت متأكد من حذف هذه الوظيفة؟')) {
                jobsData = jobsData.filter(job => job.id !== jobId);
                loadEmployerJobs();
                updateEmployerStats();
                showNotification('تم حذف الوظيفة بنجاح', 'success');
            }
        }

        function showApplicantsModal() {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4';
            modal.innerHTML = `
                <div class="bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto">
                    <div class="p-6">
                        <div class="flex justify-between items-center mb-6">
                            <h2 class="text-2xl font-bold text-gray-900">المتقدمين للوظائف</h2>
                            <button onclick="closeModal()" class="text-gray-500 hover:text-gray-700 text-2xl">×</button>
                        </div>
                        
                        <div class="text-center py-8">
                            <i class="fas fa-users text-gray-400 text-4xl mb-4"></i>
                            <p class="text-gray-600 mb-4">لا توجد طلبات توظيف حالياً</p>
                            <p class="text-sm text-gray-500">سيظهر هنا المتقدمين عندما يتقدم أشخاص لوظائفك</p>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    closeModal();
                }
            });
        }

        function showJobAnalytics() {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4';
            modal.innerHTML = `
                <div class="bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto">
                    <div class="p-6">
                        <div class="flex justify-between items-center mb-6">
                            <h2 class="text-2xl font-bold text-gray-900">تحليلات الوظائف</h2>
                            <button onclick="closeModal()" class="text-gray-500 hover:text-gray-700 text-2xl">×</button>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                            <div class="bg-blue-50 rounded-lg p-4 text-center">
                                <i class="fas fa-eye text-blue-600 text-2xl mb-2"></i>
                                <div class="text-2xl font-bold text-blue-600">156</div>
                                <div class="text-sm text-gray-600">إجمالي المشاهدات</div>
                            </div>
                            <div class="bg-green-50 rounded-lg p-4 text-center">
                                <i class="fas fa-users text-green-600 text-2xl mb-2"></i>
                                <div class="text-2xl font-bold text-green-600">23</div>
                                <div class="text-sm text-gray-600">إجمالي المتقدمين</div>
                            </div>
                            <div class="bg-purple-50 rounded-lg p-4 text-center">
                                <i class="fas fa-percentage text-purple-600 text-2xl mb-2"></i>
                                <div class="text-2xl font-bold text-purple-600">14.7%</div>
                                <div class="text-sm text-gray-600">معدل التقديم</div>
                            </div>
                        </div>
                        
                        <div class="text-center py-8">
                            <i class="fas fa-chart-bar text-gray-400 text-4xl mb-4"></i>
                            <p class="text-gray-600">تحليلات مفصلة ستكون متاحة قريباً</p>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    closeModal();
                }
            });
        }

        // إضافة مستمع للتغيير في نوع الحساب
        document.addEventListener('change', function(e) {
            if (e.target.name === 'accountType') {
                const companyFields = document.getElementById('companyFields');
                if (companyFields) {
                    if (e.target.value === 'employer') {
                        companyFields.classList.add('show');
                        // إضافة تأثير تدريجي للحقول
                        setTimeout(() => {
                            const formFields = companyFields.querySelectorAll('.form-field');
                            formFields.forEach((field, index) => {
                                setTimeout(() => {
                                    field.classList.add('animate');
                                }, index * 150 + 300);
                            });
                        }, 100);
                    } else {
                        companyFields.classList.remove('show');
                        const formFields = companyFields.querySelectorAll('.form-field');
                        formFields.forEach(field => {
                            field.classList.remove('animate');
                        });
                    }
                }
            }
        });

        // تحديث وظيفة showPage للتحقق من صلاحيات صاحب العمل
        const originalShowPage = showPage;
        showPage = function(pageId) {
            if (pageId === 'employer-dashboard') {
                if (!currentUser || userType !== 'employer') {
                    showNotification('يجب تسجيل الدخول كصاحب عمل للوصول لهذه الصفحة', 'error');
                    return;
                }
                loadEmployerJobs();
                updateEmployerStats();
            }
            
            originalShowPage(pageId);
        };

        // تحميل الصفحة الأولى
        document.addEventListener('DOMContentLoaded', function() {
            showPage('home');
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97d8cfeb73a657f8',t:'MTc1NzYxMDk3OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
